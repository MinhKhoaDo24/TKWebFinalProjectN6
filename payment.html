<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Thanh Toán - CineMax</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"/>
    <link href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              bgMain: "#141414", // Màu đồng bộ với Sidebar của bạn
              primary: "#8b5cf6",
              secondary: "#d946ef",
            },
            fontFamily: { sans: ["Outfit", "sans-serif"] },
          },
        },
      };
    </script>
    <style>
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-thumb { background: #444; border-radius: 10px; }
        
        /* Đảm bảo Sidebar mini hiển thị đúng */
        .mini-sidebar #sidebar-content { width: 88px !important; }
        .mini-sidebar .sidebar-text { display: none; }
        
        body { background-color: #141414; }
    </style>
</head>

<body class="bg-bgMain text-white font-sans h-screen flex overflow-hidden">

    <div id="sidebar-overlay" class="fixed inset-0 bg-black/60 z-[99] hidden backdrop-blur-sm transition-opacity"></div>
    <div id="sidebar-container" class="fixed inset-y-0 left-0 z-[100] h-full transform -translate-x-full xl:translate-x-0 xl:relative transition-all duration-300 w-72"></div>

    <main class="flex-1 flex flex-col h-screen relative w-full overflow-y-auto transition-all duration-300">
        
        <div id="navbar-container" class="z-40"></div>

        <div class="max-w-5xl mx-auto px-4 pt-12 pb-20 flex-grow w-full">

            <div class="text-center mb-12">
                <p class="text-primary uppercase tracking-widest text-sm font-semibold mb-2">Thanh toán</p>
                <h1 class="text-3xl md:text-5xl font-extrabold leading-tight text-white">Hoàn Tất Thanh Toán</h1>
                <p class="text-gray-400 mt-4 max-w-xl mx-auto text-sm md:text-base">
                    Xác nhận gói dịch vụ và lựa chọn phương thức thanh toán phù hợp.
                </p>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

                <div class="group relative p-[1px] rounded-3xl">
                    <div class="absolute inset-0 bg-gradient-to-b from-primary to-secondary rounded-3xl opacity-50"></div>
                    <div class="relative bg-[#1a1a1a] rounded-[23px] p-8 h-full border border-white/5 shadow-2xl">
                        <h2 class="text-xl font-semibold text-primary mb-8 flex items-center gap-2">
                            <i class="fa-solid fa-circle-check"></i> Gói đã chọn
                        </h2>

                        <div class="space-y-5 text-gray-300">
                            <div class="flex justify-between items-center pb-3 border-b border-white/5">
                                <span class="text-sm">Tên gói</span>
                                <span id="display-name" class="font-bold text-white text-lg">---</span>
                            </div>
                          
                            <div class="flex justify-between items-center pb-3 border-b border-white/5">
                                <span class="text-sm">Chất lượng</span>
                                <span id="display-quality" class="text-white font-medium">---</span>
                            </div>
                          
                            <div class="flex justify-between items-center pb-3 border-b border-white/5">
                                <span class="text-sm">Thiết bị tối đa</span>
                                <span id="display-devices" class="text-white font-medium">---</span>
                            </div>
                          
                            <div class="pt-4 flex justify-between items-end">
                                <div>
                                    <span class="block text-xs text-gray-500 uppercase font-bold mb-1">Tổng cộng</span>
                                    <span id="display-price" class="text-2xl font-black text-transparent bg-clip-text bg-gradient-to-r from-white to-purple-400">---</span>
                                </div>
                                <span class="text-xs text-gray-500 mb-1">Thanh toán mỗi tháng</span>
                            </div>
                        </div> 
                    </div>
                </div>

                <div class="relative p-[1px] rounded-3xl">
                    <div class="absolute inset-0 bg-gradient-to-b from-white/10 to-transparent rounded-3xl opacity-20"></div>
                    <div class="relative bg-[#1a1a1a] rounded-[23px] p-8 h-full border border-white/5 shadow-2xl">
                        <h2 class="text-xl font-semibold text-primary mb-8 flex items-center gap-2">
                            <i class="fa-solid fa-credit-card"></i> Phương thức thanh toán
                        </h2>

                        <div class="space-y-4">
                            <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 cursor-pointer hover:bg-white/10 hover:border-primary/50 transition-all group">
                                <input type="radio" name="payment" class="w-4 h-4 accent-primary" checked />
                                <div class="w-10 h-10 rounded-lg bg-pink-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-wallet text-pink-500 text-xl"></i>
                                </div>
                                <span class="font-medium group-hover:text-white">Ví MoMo</span>
                            </label>

                            <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 cursor-pointer hover:bg-white/10 hover:border-primary/50 transition-all group">
                                <input type="radio" name="payment" class="w-4 h-4 accent-primary" />
                                <div class="w-10 h-10 rounded-lg bg-blue-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-qrcode text-blue-400 text-xl"></i>
                                </div>
                                <span class="font-medium group-hover:text-white">ZaloPay</span>
                            </label>

                            <label class="flex items-center gap-4 p-4 rounded-xl bg-white/5 border border-white/5 cursor-pointer hover:bg-white/10 hover:border-primary/50 transition-all group">
                                <input type="radio" name="payment" class="w-4 h-4 accent-primary" />
                                <div class="w-10 h-10 rounded-lg bg-purple-500/10 flex items-center justify-center">
                                    <i class="fa-solid fa-building-columns text-purple-400 text-xl"></i>
                                </div>
                                <span class="font-medium group-hover:text-white">Thẻ ngân hàng (ATM)</span>
                            </label>
                        </div>

                        <a href="thankyou.html"><button class="mt-8 w-full py-4 rounded-xl bg-gradient-to-r from-primary to-secondary font-bold text-lg hover:brightness-110 active:scale-[0.98] transition-all shadow-lg shadow-primary/20">
                            Thanh toán ngay
                        </button></a>

                        <p class="text-[10px] text-gray-500 text-center mt-6 uppercase tracking-widest font-bold">
                            An toàn • Bảo mật • Hủy bất cứ lúc nào
                        </p>
                    </div>
                </div>

            </div>
        </div>

        <div id="footer-container" class="mt-auto border-t border-white/5 pt-5 mb-5 px-5"></div>
    </main>

    <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
    <script src="scripts/login_register.js"></script>
    <script src="scripts/loadheaderfooter.js"></script>
    
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Lấy dữ liệu gói dịch vụ từ localStorage
        const planData = JSON.parse(localStorage.getItem('selectedPlan'));
    
        if (planData) {
            // Đổ dữ liệu vào giao diện
            document.getElementById('display-name').textContent = planData.name;
            document.getElementById('display-quality').textContent = planData.quality;
            document.getElementById('display-devices').textContent = planData.devices;
            document.getElementById('display-price').textContent = planData.price;
        } else {
            // Nếu không có dữ liệu (truy cập trực tiếp), quay lại trang chọn gói
            window.location.href = 'price.html';
        }
        
        // Gọi hàm kiểm tra đăng nhập để hiển thị Header/Sidebar đúng trạng thái
        if (typeof window.checkLoginStatus === 'function') {
            window.checkLoginStatus();
        }
    });
    </script>
</body>
</html>
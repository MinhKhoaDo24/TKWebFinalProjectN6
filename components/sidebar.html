<style>
    /* Lớp Active với nền tím Gradient và hiệu ứng phát sáng */
.nav-active {
    background: linear-gradient(135deg, #8b5cf6, #d946ef) !important;
    color: white !important;
    font-weight: 600;
    /* Tạo hiệu ứng bóng mờ (Glow) xung quanh nút */
    box-shadow: 0 4px 15px rgba(139, 92, 246, 0.4);
    border: none !important;
}

/* Đảm bảo icon luôn là màu trắng khi mục đó đang Active */
.nav-active i {
    color: white !important;
}

/* Hiệu ứng chuyển động mượt mà cho các mục Menu */
.nav-item {
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}
</style>
<aside id="sidebar-content" class="h-full xl:h-[calc(100vh-2rem)] xl:my-4 xl:ml-4 relative z-50 transition-all duration-300 w-full group/sidebar">
    
    <div class="absolute inset-0 flex flex-col bg-[#141414] border-r border-white/10 xl:border xl:border-white/5 shadow-2xl overflow-hidden rounded-none xl:rounded-2xl">
        
        <div class="h-20 flex items-center px-4 mx-auto md:px-6 shrink-0 cursor-pointer overflow-hidden whitespace-nowrap group transition-all duration-300" onclick="window.location.href='index.html'">
            <div class="w-10 h-10 rounded-xl bg-gradient-to-br from-purple-600 to-pink-600 flex items-center justify-center shadow-lg shadow-purple-500/20 shrink-0 transition-transform duration-300 group-hover:scale-110 group-hover:rotate-3">
                <i class="fa-solid fa-play text-white text-sm"></i>
            </div>
            <h1 class="text-2xl font-bold tracking-tight ml-3 opacity-100 transition-opacity duration-300 sidebar-text text-white">
                Aura<span class="text-transparent bg-clip-text bg-gradient-to-r from-purple-400 to-pink-400">Film</span>
            </h1>
        </div>
        <nav class="flex-1 overflow-y-auto px-3 py-2 space-y-4 custom-scrollbar mt-1">
            
            <div>
                <h3 class="sidebar-text text-[10px] font-bold uppercase tracking-[0.15em] text-gray-500 mb-3 px-4 truncate transition-opacity duration-300">Menu</h3>
                <ul class="space-y-2">
                    <li>
                        <a href="#section-trending" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm">
                            <i class="fa-solid fa-fire w-6 text-lg text-center transition-colors"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Thịnh Hành</span>
                        </a>
                    </li>
                    <li>
                        <a href="#section-now-showing" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-film w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Đang Chiếu</span>
                        </a>
                    </li>
                    <li>
                        <a href="#section-coming-soon" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-regular fa-clock w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Sắp Chiếu</span>
                        </a>
                    </li>
                    <li>
                        <a href="favorite_film.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                        <i class="fa-regular fa-heart w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                        <span class="ml-3 sidebar-text whitespace-nowrap">Yêu Thích</span>
                        </a>
                    </li>
                    <li>
                        <a href="actor.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-star w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Diễn Viên</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="block xl:hidden border-t border-white/5 pt-4 mt-2">
                <div class="mb-4">
                    <button class="mobile-accordion-btn w-full flex items-center justify-between h-12 px-4 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                        <div class="flex items-center">
                            <i class="fa-solid fa-layer-group w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 font-medium text-sm">Thể Loại</span>
                        </div>
                        <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300"></i>
                    </button>
                    <div id="sidebar-mobile-genres" class="hidden grid grid-cols-2 gap-y-4 gap-x-3 px-4 py-4 bg-white/5 rounded-xl mt-2 mx-2 border border-white/5">
                        <span class="text-xs text-gray-500">Đang tải...</span>
                    </div>
                </div>
                <div class="mb-4">
                    <button class="mobile-accordion-btn w-full flex items-center justify-between h-12 px-4 rounded-xl text-gray-400 hover:text-white hover:bg-white/5 transition-all group">
                        <div class="flex items-center">
                            <i class="fa-solid fa-earth-americas w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 font-medium text-sm">Quốc Gia</span>
                        </div>
                        <i class="fa-solid fa-chevron-down text-xs transition-transform duration-300"></i>
                    </button>
                    <div id="sidebar-mobile-countries" class="hidden grid grid-cols-2 gap-y-4 gap-x-3 px-4 py-4 bg-white/5 rounded-xl mt-2 mx-2 border border-white/5">
                        <span class="text-xs text-gray-500">Đang tải...</span>
                    </div>
                </div>
            </div>

            <div>
                <h3 class="sidebar-text text-[10px] font-bold uppercase tracking-[0.15em] text-gray-500 mb-3 px-4 truncate mt-2 transition-opacity duration-300">Thư Viện</h3>
                <div class="w-6 h-[2px] bg-white/10 mx-auto mb-4 sidebar-divider rounded-full hidden"></div> 
                <ul class="space-y-2">
                    <li>
                        <a href="history.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-clock-rotate-left w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Lịch Sử Xem</span>
                        </a>
                    </li>
                    <li>
                        <a href="about.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-regular fa-solid fa-circle-info w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Về Chúng Tôi</span>
                        </a>
                    </li>
                </ul>
            </div>

            <div class="mt-4 pt-4 border-t border-white/5">
                 <ul class="space-y-2">
                    <li>
                        <a href="price.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-layer-group w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Dịch Vụ</span>
                        </a>
                    </li>
                    <!-- <li>
                        <a href="#" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-gear w-6 text-lg text-center transition-colors group-hover:text-purple-400"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Cài Đặt</span>
                        </a>
                    </li> -->

                    <li id="sidebar-guest-view">
                        <a href="login.html" class="nav-item flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-gray-400 hover:text-white hover:bg-white/5">
                            <i class="fa-solid fa-right-from-bracket w-6 text-lg text-center transition-colors group-hover:text-red-500"></i>
                            <span class="ml-3 sidebar-text whitespace-nowrap group-hover:text-red-400 opacity-100 transition-opacity duration-300">Đăng Nhập</span>
                        </a>
                    </li>

                    <div id="sidebar-user-view" class="hidden space-y-2">
                        <!-- <li class="px-2">
                            <div class="flex items-center h-12 px-2 rounded-xl bg-white/5 border border-white/5 overflow-hidden">
                                <img src="https://i.pravatar.cc/150?img=11" class="w-8 h-8 rounded-full border border-purple-500 object-cover shrink-0">
                                <div class="ml-3 sidebar-text overflow-hidden whitespace-nowrap">
                                    <p id="sidebar-username-text" class="text-xs font-bold text-white truncate">Thành viên</p>
                                    <p class="text-[10px] text-purple-400 font-bold uppercase">Premium</p>
                                </div>
                            </div>
                        </li> -->
                        <li>
                            <button id="btn-sidebar-logout" class="nav-item w-full flex items-center h-12 px-4 rounded-xl transition-all duration-200 group font-medium text-sm text-red-400 hover:text-white hover:bg-red-500/20 text-left">
                                <i class="fa-solid fa-power-off w-6 text-lg text-center transition-colors"></i>
                                <span class="ml-3 sidebar-text whitespace-nowrap opacity-100 transition-opacity duration-300">Đăng Xuất</span>
                            </button>
                        </li>
                    </div>

                </ul>
            </div>
        </nav>
        
        <div class="absolute bottom-0 left-0 w-full h-32 bg-gradient-to-t from-purple-900/10 to-transparent pointer-events-none rounded-none xl:rounded-b-2xl"></div>
    </div>

    <button id="sidebar-toggle-btn" class="hidden xl:flex absolute top-7 -right-3 w-6 h-6 bg-purple-600 hover:bg-purple-500 border-2 border-[#121212] rounded-full items-center justify-center text-white shadow-[0_0_10px_rgba(168,85,247,0.5)] transition-all duration-300 z-[60] active:scale-90 group">
        <i class="fa-solid fa-chevron-left text-[8px] font-bold transition-transform duration-300"></i>
    </button>

</aside>